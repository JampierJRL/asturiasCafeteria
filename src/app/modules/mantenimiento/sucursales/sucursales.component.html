<!-- TOP BANNER -->
<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row">
            </div>
        </div>
    </div>
</div>

<!-- CONTENIDO -->
<div class="container-fluid mt--7 mb-5">
    <div class="row">
        <!-- TABLA LISTA DATA -->
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col">
                            <h4 class="text-uppercase text-light ls-1 mb-1">Lista de productos</h4>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table align-items-center table-flush">
                            <thead>
                                <tr>
                                    <th scope="col">Id</th>
                                    <th scope="col">nombreSucursal</th>
                                    <th scope="col">ruc</th>
                                    <th scope="col">telefono</th>
                                    <th scope="col">direccion</th>
                                    <th scope="col">codDistrito</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of dtListaSucursales">
                                    <td>{{item.codSucursal}}</td>
                                    <td>{{item.nombreSucursal}}</td>
                                    <td>{{item.ruc}}</td>
                                    <td>{{item.telefono}}</td>
                                    <td>{{item.direccion}}</td>
                                    <td>{{item.ubigeo.nombreDistrito}}</td>

                                    <td>
                                        <button class="btn btn-sm btn-warning" (click)="onPreviewModel(item)">Editar</button>
                                        <button class="btn btn-sm btn-danger" (click)="onEliminarSucursales(item.codSucursal)">Eliminar</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- FORMULARIO -->
        <div class="col-lg-4">
            <div class="card shadow">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col">
                            <h4 class="text-uppercase text-light ls-1 mb-1">Formulario productos</h4>
                        </div>
                    </div>
                </div>
                <div class="card-body" style="overflow: auto; max-height: 400px;">
                    <form (submit)="onprocesarSucursales()" [formGroup]="modeloSucursales">

                        <div class="row">
                            <div class="col-md-12 mb-4">
                                <label for="">Nombre Sucursal</label>
                                <input type="text" class="form-control" formControlName="nombreSucursal">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12 mb-4">
                                <label for="">Direccion</label>
                                <input type="text" class="form-control" formControlName="direccion">
                            </div>
                        </div>



                        <div class="row">
                            <div class="col-md-12 mb-4">
                                <label for="">Nº RUC</label>
                                <input type="text" class="form-control" formControlName="ruc">
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-12 mb-4">
                                <label for="">Telefono</label>
                                <input type="text" class="form-control" formControlName="telefono">
                            </div>
                        </div>

                        <div class="row">
                            <!-- CBO Departamento -->
                            <div class="col-md-12 mb-4">
                                <label for="codDepartamento">Departamento</label>
                                <app-cbo-departamento [setValor]="frmUbigeo.get('codDepartamento').value" (outValor)="frmUbigeo.get('codDepartamento').setValue($event)"></app-cbo-departamento>
                            </div>

                            <!-- CBO Provincia -->
                            <div class="col-md-12 mb-4">
                                <label for="codProvincia">Código de Provincia</label>
                                <app-cbo-provincias [setValor]="frmUbigeo.get('codProvincia').value" [setDepartamento]="frmUbigeo.get('codDepartamento').value" (outValor)="frmUbigeo.get('codProvincia').setValue($event)"></app-cbo-provincias>
                            </div>

                            <!-- CBO Distrito -->
                            <div class="col-md-12 mb-4">
                                <label for="codDistrito">Código de Distrito</label>
                                <app-cbo-distritos [setValor]="frmUbigeo.get('codDistrito').value" [setProvincia]="frmUbigeo.get('codProvincia').value" (outValor)="frmUbigeo.get('codDistrito').setValue($event)" (change)="onDistrito()">
                                </app-cbo-distritos>
                            </div>
                        </div>

                        {{modeloSucursales.value| json}} {{frmUbigeo.value | json}}

                        <div class="row">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-success">Procesar</button>
                            </div>
                        </div>


                    </form>


                </div>
            </div>
        </div>
    </div>